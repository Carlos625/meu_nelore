import{j as e,T as p}from"./index-COgq7w1N.js";import{j as h,I as f}from"./firestore-DFEv3qpL.js";function j({incidente:s,setIncidente:t,animais:m,animal:a,foto:o,handleFotoChange:i,erro:d,isEdit:c,handleSubmit:n,loadAnimal:l}){return e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[d&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("h3",{className:"text-sm font-medium text-red-800",children:d})}),!c&&!a&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"animalId",className:"block text-sm font-medium text-gray-700",children:"Animal"}),e.jsxs("select",{id:"animalId",value:s.animalId||"",onChange:r=>{const u=r.target.value;t(x=>({...x,animalId:u})),l==null||l()},className:"block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Selecione um animal"}),m.map(r=>e.jsxs("option",{value:r.id,children:[r.numeroBrinco," - ",r.raca]},r.id))]})]}),a&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Animal Selecionado"}),e.jsxs("div",{className:"mt-2 flex items-center",children:[a.foto?e.jsx("img",{src:a.foto,alt:`Animal ${a.numeroBrinco}`,className:"h-12 w-12 rounded-full object-cover"}):e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 text-lg font-medium",children:a.numeroBrinco})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Brinco ",a.numeroBrinco]}),e.jsx("p",{className:"text-sm text-gray-500",children:a.raca})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tipo",className:"block text-sm font-medium text-gray-700",children:"Tipo"}),e.jsx("select",{id:"tipo",value:s.tipo,onChange:r=>t({...s,tipo:r.target.value}),className:"block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0,children:Object.values(h).map(r=>e.jsx("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("select",{id:"status",value:s.status,onChange:r=>t({...s,status:r.target.value}),className:"block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:Object.values(f).map(r=>e.jsx("option",{value:r,children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"data",className:"block text-sm font-medium text-gray-700",children:"Data"}),e.jsx("input",{type:"date",id:"data",value:s.data instanceof Date?s.data.toISOString().split("T")[0]:s.data instanceof p?s.data.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0],onChange:r=>t({...s,data:new Date(r.target.value)}),className:"block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"descricao",className:"block text-sm font-medium text-gray-700",children:"Descrição"}),e.jsx("textarea",{id:"descricao",value:s.descricao||"",onChange:r=>t({...s,descricao:r.target.value}),rows:3,className:"block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"foto",className:"block text-sm font-medium text-gray-700",children:"Foto"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[o&&e.jsx("img",{src:o,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg"}),e.jsx("input",{type:"file",id:"foto",accept:"image/*",onChange:i,className:"ml-4 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]}),e.jsx("div",{className:"flex justify-end space-x-3",children:e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Salvar"})})]})}export{j as I};
